# PicView - Advanced Image Viewer

一个功能强大的图片预览器，专为专业用户设计，支持多种图片格式和高级功能。

## 🚀 主要特性

### 📁 多格式支持
- **支持格式**: TGA, PNG, DDS, PSD, WebP, GIF, BMP, JPG, ICO, TIF, TIFF
- **使用技术**: 集成 ImageMagick 和 ImageSharp，确保最佳的格式兼容性

### 🎨 强大的背景控制功能 (核心特色)
- **透明方格背景**: 显示图片透明度的标准方格背景
- **纯色背景**: 多种预设颜色 (白、黑、中性灰、亮灰、暗灰)
- **图片背景**: 支持自定义图片作为背景，可叠加效果
- **窗口透明**: 完全透明到桌面的特殊模式
- **实时调节**: 色相和明度滑块，实时调整背景颜色
- **拾色器**: PS风格的颜色选择器
- **记忆功能**: 自动保存背景设置

### 🔍 智能搜索功能
- **Everything集成**: 支持Everything超快搜索引擎
- **备选搜索**: Everything不可用时自动切换到文件系统搜索
- **格式过滤**: 自动过滤支持的图片格式
- **全盘搜索**: 跨目录搜索图片文件

### 🖼️ 图片处理功能
- **无损旋转**: 支持任意角度旋转
- **格式转换**: 另存为任何支持的格式
- **放大缩小**: Ctrl+滚轮精确缩放
- **高质量显示**: 高质量位图缩放算法

### 📊 通道分析功能 (专业特色)
- **RGBA通道**: 支持Red、Green、Blue、Alpha通道分离显示
- **记忆功能**: 勾选后自动显示所有后续图片的通道
- **双击放大**: 双击任意通道可在新窗口中放大查看
- **网格布局**: 最多5个图像(主图+4通道)同时显示
- **可调节**: 支持拖拽调整通道面板尺寸

### 🎯 便捷操作
- **拖拽支持**: 直接拖拽图片文件到窗口
- **键盘导航**: 左右箭头键切换图片
- **目录浏览**: 自动加载同目录下的所有图片
- **状态信息**: 实时显示图片尺寸、文件大小等信息

## 🛠️ 系统要求

- **操作系统**: Windows 10/11
- **框架**: .NET 8.0 Desktop Runtime
- **推荐**: 安装Everything搜索工具以获得最佳搜索体验

## 📦 安装与配置

### 1. 基础安装
```bash
# 克隆项目
git clone <repository-url>
cd PicView

# 构建项目
dotnet build
dotnet run
```

### 2. Everything配置 (可选但推荐)
1. 下载并安装 [Everything](https://www.voidtools.com/downloads/)
2. 启动Everything，确保其在后台运行
3. PicView会自动检测并使用Everything进行快速搜索

### 3. 背景图片配置
- 将自定义背景图片命名为 `bg.png` 并放置在exe同目录下
- 支持PNG、JPG格式的背景图片

## 🎮 使用方法

### 基本操作
- **打开图片**: 点击"打开"按钮或拖拽文件到窗口
- **切换图片**: 使用左右箭头键或工具栏按钮
- **缩放**: Ctrl+鼠标滚轮
- **全屏**: 按F键切换全屏模式
- **旋转**: 使用工具栏的旋转按钮

### 背景设置
1. 展开"背景设置"面板
2. 选择背景类型：透明方格/纯色/图片/窗口透明
3. 使用预设颜色或自定义颜色
4. 调节色相和明度滑块
5. 使用拾色器精确选择颜色

### 通道查看
1. 勾选"显示通道"复选框
2. 右侧将显示RGBA通道分离图像
3. 双击任意通道图像可在新窗口中查看
4. 拖拽分割条调整通道面板大小

### Everything搜索
1. 点击"搜索"按钮打开搜索栏
2. 输入关键词并按回车
3. 使用左右键在搜索结果中导航
4. 如未安装Everything，程序会提示并可尝试启动

## 🔧 高级配置

### 支持的图片格式
```
.jpg, .jpeg - JPEG图像
.png - PNG图像  
.bmp - 位图
.gif - 动态图像
.tiff, .tif - TIFF图像
.ico - 图标文件
.webp - WebP图像
.tga - Targa图像
.dds - DirectDraw Surface
.psd - Photoshop文档
```

### 性能优化
- **缓存**: 自动缓存已加载的图片
- **异步加载**: 后台加载图片，不阻塞UI
- **内存管理**: 智能释放不需要的图片内存

## 🐛 故障排除

### Everything搜索不工作
1. 确保Everything程序已安装并运行
2. 检查Everything64.dll是否在程序目录中
3. 程序会自动回退到文件系统搜索

### 图片格式不支持
1. 确保安装了所有必需的NuGet包
2. 某些PSD文件可能需要特殊处理
3. 检查文件是否损坏

### 性能问题
1. 关闭通道显示功能以节省内存
2. 避免同时打开过多大尺寸图片
3. 定期重启程序清理内存

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 📄 许可证

本项目采用MIT许可证。详见LICENSE文件。

## 🙏 致谢

- [ImageMagick](https://imagemagick.org/) - 强大的图像处理库
- [ImageSharp](https://sixlabors.com/products/imagesharp/) - .NET图像处理库
- [Everything](https://www.voidtools.com/) - 快速文件搜索工具
- [Extended WPF Toolkit](https://github.com/xceedsoftware/wpftoolkit) - WPF扩展控件

---

**PicView** - 为专业用户打造的下一代图片预览器 ✨ 